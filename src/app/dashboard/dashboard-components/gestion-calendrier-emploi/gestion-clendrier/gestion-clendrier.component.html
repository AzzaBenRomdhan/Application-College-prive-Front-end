<div class="container">
    <mat-card>
      <mat-card-title>Création du calendrier d'examen</mat-card-title>
      <form [formGroup]="calendarForm" (ngSubmit)="onSubmit()" class="containerform">
        <!-- Date -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Date</mat-label>
          <input matInput type="date" formControlName="date" required />
          <mat-error *ngIf="calendarForm.get('date')?.hasError('required')">La date est requise.</mat-error>
        </mat-form-field>
  
        <!-- Nom de la journée -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Nom de la journée</mat-label>
          <input matInput formControlName="nomjour" required />
          <mat-error *ngIf="calendarForm.get('nomjour')?.hasError('required')">Le nom de la journée est requis.</mat-error>
        </mat-form-field>
  
        <!-- Période -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Période</mat-label>
          <input matInput formControlName="periode" required />
          <mat-error *ngIf="calendarForm.get('periode')?.hasError('required')">La période est requise.</mat-error>
        </mat-form-field>
  
        <!-- Email Enseignant -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Email Enseignant</mat-label>
          <input matInput type="email" formControlName="email" required />
          <mat-error *ngIf="calendarForm.get('email')?.hasError('required')">L'email est requis.</mat-error>
          <mat-error *ngIf="calendarForm.get('email')?.hasError('email')">L'email n'est pas valide.</mat-error>
        </mat-form-field>
  
        <!-- Salle (select) -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Salle</mat-label>
          <mat-select formControlName="nomSalle" required>
            <mat-option *ngFor="let salle of salles" [value]="salle.nomdesalle">{{ salle.nomdesalle }}</mat-option>
          </mat-select>
          <mat-error *ngIf="calendarForm.get('nomSalle')?.hasError('required')">La salle est requise.</mat-error>
        </mat-form-field>
  
        <!-- Matière (select) -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Matière</mat-label>
          <mat-select formControlName="nomMatiere" required>
            <mat-option *ngFor="let matiere of matieres" [value]="matiere.nom">{{ matiere.nom }}</mat-option>
          </mat-select>
          <mat-error *ngIf="calendarForm.get('nomMatiere')?.hasError('required')">La matière est requise.</mat-error>
        </mat-form-field>
  
        <!-- Classe (select) -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Classe</mat-label>
          <mat-select formControlName="nomClasse" required>
            <mat-option *ngFor="let classe of classes" [value]="classe.nomclasse">{{ classe.nomclasse }}</mat-option>
          </mat-select>
          <mat-error *ngIf="calendarForm.get('nomClasse')?.hasError('required')">La classe est requise.</mat-error>
        </mat-form-field>
  
        <!-- Type de calendrier (select) -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Type de calendrier</mat-label>
          <mat-select formControlName="typecalendrier" required>
            <mat-option value="Synthèse">Synthèse</mat-option>
            <mat-option value="Contrôle">Contrôle</mat-option>
          </mat-select>
          <mat-error *ngIf="calendarForm.get('typecalendrier')?.hasError('required')">Le type de calendrier est requis.</mat-error>
        </mat-form-field>
  
        <!-- Button -->
        <button mat-raised-button color="primary" type="submit" [disabled]="calendarForm.invalid || isLoading">
          {{ isLoading ? 'Envoi en cours...' : 'Soumettre' }}
        </button>
      </form>
  
      <!-- Message de succès ou d'erreur -->
      <div *ngIf="message" [ngClass]="{'success': success, 'error': !success}" class="message-container">
        {{ message }}
      </div>
    </mat-card>
  </div>
  